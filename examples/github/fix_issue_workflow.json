{
  "name": "fix-github-issue",
  "description": "Example workflow demonstrating GitHub and Git nodes - fixes an issue and creates a PR",
  "nodes": [
    {
      "id": "get-issue",
      "type": "github-get-issue",
      "params": {
        "issue_number": "1234",
        "repo": "owner/repo"
      }
    },
    {
      "id": "generate-fix",
      "type": "llm",
      "params": {
        "prompt": "Based on this issue: Title: {{issue_data.title}}, Body: {{issue_data.body}}, Author: {{issue_data.author.login}}, generate a Python fix.",
        "model": "gpt-4o-mini"
      }
    },
    {
      "id": "write-fix",
      "type": "write-file",
      "params": {
        "file_path": "fix_{{issue_data.number}}.py",
        "content": "{{response}}"
      }
    },
    {
      "id": "check-status",
      "type": "git-status"
    },
    {
      "id": "commit-fix",
      "type": "git-commit",
      "params": {
        "message": "Fix #{{issue_data.number}}: {{issue_data.title}}",
        "files": [
          "fix_{{issue_data.number}}.py"
        ]
      }
    },
    {
      "id": "push-fix",
      "type": "git-push",
      "params": {
        "branch": "fix-issue-{{issue_data.number}}"
      }
    },
    {
      "id": "create-pr",
      "type": "github-create-pr",
      "params": {
        "title": "Fix: {{issue_data.title}}",
        "body": "Fixes #{{issue_data.number}}\\n\\nThis PR addresses the issue reported by @{{issue_data.author.login}}.",
        "head": "fix-issue-{{issue_data.number}}",
        "base": "main"
      }
    }
  ],
  "transitions": [
    {
      "from": "get-issue",
      "to": "generate-fix",
      "condition": "default"
    },
    {
      "from": "generate-fix",
      "to": "write-fix",
      "condition": "default"
    },
    {
      "from": "write-fix",
      "to": "check-status",
      "condition": "default"
    },
    {
      "from": "check-status",
      "to": "commit-fix",
      "condition": "default"
    },
    {
      "from": "commit-fix",
      "to": "push-fix",
      "condition": "default"
    },
    {
      "from": "push-fix",
      "to": "create-pr",
      "condition": "default"
    }
  ]
}
